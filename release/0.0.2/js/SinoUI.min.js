/* SinoUI-V0.0.2 By Jack Lee @Sinohuaxia 2015-10-27 */
function getPage(a,b){return $support.touch?a.changedTouches[0][b]:a[b]}function sino_touch(a,b){var c=event.currentTarget;c.zTouch||(c.zTouch=new sinoClick(c,b,a),c.zTouch._touchStart(event))}function openNewWin(a,b){b=b||"0",isWindow?window.open(a+".html","_self"):uexWindow.open(a,b)}function closeWin(a){a=a||"0",isWindow?window.history.back(-1):uexWindow.back(a)}function getKeyevt(){if(isDefine(getLocVal("keyevt")))return getLocVal("keyevt");var a="onmousedown";return(isIOS||isAndroid)&&(a="ontouchstart"),setLocVal("keyevt",a),a}function sinoScript(a,b,c){c=c||0,isWindow||uexWindow.evaluateScript(a,b,c)}function sinoSelect(a){var b,c;if(b=document.getElementById(a),b&&(c=b.parentElement)){var d=c.getElementsByTagName("div")[0],e=b.options[b.selectedIndex].text;d&&(d.innerHTML=e)}}function getLocVal(a){return isAndroid?uexLocalStorage.getItem(a):window.localStorage[a]?window.localStorage[a]:""}function setLocVal(a,b){isAndroid?uexLocalStorage.setItem(a,b):window.localStorage[a]=b}function clearLocVal(a){isAndroid?a?uexLocalStorage.removeItem(a):uexLocalStorage.clear():a?window.localStorage.removeItem(a):window.localStorage.clear()}function isDefine(a){return null==a||""==a||"undefined"==a||void 0==a||"null"==a||"(null)"==a||"NULL"==a||"undefined"==typeof a?!1:(a+="",a=a.replace(/\s/g,""),""==a?!1:!0)}function checkKeyInArray(a,b){if(b.length){for(var c=0,d=b.length;d>c;c++)if(b[c]==a)return!0;return!1}return!1}function getArrayIndexByValue(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c]==a)return c}function getArrayIndexByKeyValue(a,b,c){for(var d=0,e=c.length;e>d;d++)if(c[d][a]==b)return d}function checkValueIsInArray(a,b,c){if(!isDefine(c))return!1;if("string"==typeof c&&(c=JSON.parse(c)),c.length){for(var d in c)if(c[d][a]==b)return!0;return!1}return!1}function getValueByKey(a,b,c,d){if(d.length){for(var e in d)if(d[e][a]==b)return d[e][rekey];return""}return""}function removeArrayItemByValue(a,b,c){if(c.length){for(var d in c)if(c[d][a]==b){c.splice(d,1);break}return c}return[]}function isEmail(a){var b=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;return b.test(a)?!0:!1}function isTelOrPhone(a){var b=/^((0)[0-9]{2,3}(-|—))*[0-9]{6,8}$/,c=/^(0)*(13|14|15|17|18)[0-9]{9}$/;return b.test(a)||c.test(a)?!0:!1}function inimage(a,b){var c,d,e=$(b)[0];if(e.hasfocus||e.focus(),window.getSelection&&window.getSelection().getRangeAt){c=window.getSelection().getRangeAt(0),c.collapse(!1),d=c.createContextualFragment(a);var f=d.lastChild;c.insertNode(d),f&&(c.setEndAfter(f),c.setStartAfter(f));var g=window.getSelection();g.removeAllRanges(),g.addRange(c)}else document.selection&&document.selection.createRange&&document.selection.createRange().pasteHTML(a)}function convertImg2Base64(a,b,c){var d=document.createElement("CANVAS"),e=d.getContext("2d"),f=new Image;f.crossOrigin="Anonymous",f.onload=function(){d.height=f.height,d.width=f.width,e.drawImage(f,0,0);var a=d.toDataURL(c||"image/png");b.call(this,a),d=null},f.src=a}function changeVersion2Num(a){var b=0;return isDefine(a)?(b=a.replace(/\./g,""),b=parseInt(b)):0}var sinoApp=SUI=sinoUI=H={version:"0.0.2",$:window.Zepto,settings:{transitionType:"slide",transitionTime:200,transitionTimingFunc:"ease-in",toastDuration:2e3},mode:window.innerWidth<800?"phone":"tablet",hasTouch:"ontouchstart"in window,lanchCompleted:!1,hasMenuOpen:!1,hasPopupOpen:!1,sinoAppInit:function(a){$.extend(this.settings,a),this.Element.init(a),this.Menu.init()}};H.Element=function($){var SELECTOR={icon:"[data-icon]",scroll:'[data-scroll="true"]',collapse:'[data-collapse="true"]',radio:'[data-radio="true"]',checkbox:'[data-checkbox="true"]',select:'[data-select="true"]',"switch":'[data-switch="true"]',range:'[data-range="true"]',progress:'[data-progress="true"]'},init=function(a,b){var c=$(b||"body");H.Element.scroll(a,c),0!==c.length&&($.map(_getMatchElements(c,SELECTOR.icon),_init_icon),$.map(_getMatchElements(c,SELECTOR.collapse),_init_collapse),$.map(_getMatchElements(c,SELECTOR.radio),_init_radio),$.map(_getMatchElements(c,SELECTOR.checkbox),_init_checkbox),$.map(_getMatchElements(c,SELECTOR.select),_init_select),$.map(_getMatchElements(c,SELECTOR["switch"]),_init_switch),$.map(_getMatchElements(c,SELECTOR.range),_init_range),$.map(_getMatchElements(c,SELECTOR.progress),_init_progress),c=null)},initControlGroup=function(){$(document).on("tap","ul.control-group li",function(){var a=$(this);a.hasClass("active")||a.addClass("active").siblings(".active").removeClass("active").parent().trigger("change",[a])})},_getMatchElements=function(a,b){return a.find(b).add(a.filter(b))},_init_icon=function(a){var b=$(a),c=b.children("i.sui-icon"),d=b.data("icon");c.length>0?c.attr("class","sui-icon sui-icon-"+d):b.prepend('<i class="sui-icon sui-icon-'+d+'"></i>')},_init_scroll=function(a,b){$.map(_getMatchElements($(b||"body"),SELECTOR.scroll),function(b){H.Scroll(b,a)})},_init_collapse=function(a){var b=$(a);b.next(".sui-collapse-list");b.on("click",function(a){a.currentTarget&&($(a.currentTarget).hasClass("sui-collapse-open")?$(a.currentTarget).removeClass("sui-collapse-open"):($(a.currentTarget).parent().find(".sui-collapse-open").removeClass("sui-collapse-open"),$(a.currentTarget).addClass("sui-collapse-open")))})},_init_radio=function(a){var b,c,d,e,f=$(a);f.on("click",function(a){c=$(this).prev('input[type="radio"]'),b=$(this).parent().children('input[type="radio"]'),d=$(this).parent().find(".sui-icon"),e=$(this).find(".sui-icon"),"checked"!=c.attr("checked")&&(b.attr("checked","").removeAttr("checked"),c.attr("checked","checked"),d.removeClass("sui-icon-radio-checked").addClass("sui-icon-radio-unchecked"),e.addClass("sui-icon-radio-checked").removeClass("sui-icon-radio-unchecked"))})},_init_checkbox=function(el){var $el=$(el),callback=$el.data("callback"),$checkboxs,$target,$curCheckbox,$checkboxIcons,$curIcon;$el.on("click",function(e){e.currentTarget&&($curCheckbox=$(e.currentTarget).prev('input[type="checkbox"]'),$checkboxs=$(e.currentTarget).parent().children('input[type="checkbox"]'),$checkboxIcons=$(e.currentTarget).parent().find(".sui-icon"),$curIcon=$(e.currentTarget).find(".sui-icon"),"checked"!=$curCheckbox.attr("checked")?($curCheckbox.attr("checked","checked"),$curIcon.addClass("sui-icon-checkbox-checked").removeClass("sui-icon-checkbox-unchecked")):($curCheckbox.attr("checked","").removeAttr("checked"),$curIcon.removeClass("sui-icon-checkbox-checked").addClass("sui-icon-checkbox-unchecked")),callback&&eval(callback+"($curCheckbox)"))})},_init_select=function(a){var b=$(a),c=b.parent(),d=c.find(".select-text"),e=b.find("option").eq(0).text().indexOf("请选择")>-1;d.length>0&&!e?(b.prepend("<option selected>请选择</option>"),d.html("请选择")):d.length>0&&e&&d.html(b.find("option").eq(0).text())},_init_switch=function(a){var b,c=$(a),d=c.find(".sui-switch-handle");d.on("click",function(a){a.currentTarget&&(b=$(a.currentTarget).parent(".sui-switch").prev("input"),"checked"==b.attr("checked")?($(a.currentTarget).parent(".sui-switch").removeClass("sui-switch-active"),b.removeAttr("checked")):(b.attr("checked","checked"),$(a.currentTarget).parent(".sui-switch").addClass("sui-switch-active")))})},_init_range=function(a){var b,c=$(a),d=$('input[type="range"]',a),e=c.data("rangeinput"),f=$('<input type="number" name="test" value="'+d.val()+'"/>');b="left"==e?f.prependTo(c):f.appendTo(c);var g=parseInt(d.attr("max"),10),h=parseInt(d.attr("min"),10);d.change(function(){b.val(d.val())}),b.on("input",function(){var a=parseInt(b.val(),10);a=a>g?g:h>a?h:a,d.val(a),b.val(a)})},_init_progress=function(a){var b,c=$(a),d=parseFloat(c.data("progress"))+"%",e=c.data("title")||"";b=c.find("div.bar"),0==b.length&&(b=$('<div class="bar"></div>').appendTo(c)),b.width(d).text(e+d),"100%"==d&&b.css("border-radius","10px")};return{init:init,icon:_init_icon,scroll:_init_scroll,collapse:_init_collapse,radio:_init_radio,checkbox:_init_checkbox,select:_init_select,"switch":_init_switch,range:_init_range,progress:_init_progress}}(H.$),H.Menu=function(a){var b,c,d,e=function(){b=a("#aside-container"),c=a("#content-container"),d=a('<div id="content-container-mask"></div>').appendTo("#content-container"),d.on("tap",g),b.on("swipeRight","aside",function(){"right"==a(this).data("position")&&g()}),b.on("swipeLeft","aside",function(){"right"!=a(this).data("position")&&g()}),b.on("tap",".aside-close",g);var e=a('[data-target="menu"]');console.log("button-num="+e.size()),a.each(e,function(b,c){var d=a(this),e=d.data("menu");d.on("tap",function(a){return console.log(a.currentTarget),h(e),!1})})},f=function(b){var d=a(b).addClass("active"),e=d.data("transition"),f=d.data("position")||"left",g=d.data("show-close"),h=d.width(),i="left"==f?h+"px":"-"+h+"px";g&&0==d.find("div.aside-close").length&&d.append('<div class="aside-close icon sui-icon-close"></div>');var j=function(){H.hasMenuOpen=!0,"reveal"==e&&d.css("z-index",30)};if(H.Element.scroll(d),"overlay"==e)H.anim(d,{translateX:"0%"});else if("reveal"==e)H.anim(c,{translateX:i});else{H.anim(d,{translateX:"0%"});var k={translateX:i};"scale"==e&&a.extend(k,{scale:.8}),H.anim(c,k,200,j)}a("#content-container-mask").show(),H.hasMenuOpen=!0},g=function(b,d){var e=a("#aside-container aside.active"),f=e.data("transition"),g=e.data("position")||"left",h="left"==g?"-100%":"100%",i=function(){e.removeClass("active"),H.hasMenuOpen=!1,d&&d.call(this)};"overlay"==f?H.anim(e,{translateX:h},b,i):"reveal"==f?H.anim(c,{translateX:"0"},b,i):(H.anim(e,{translateX:h},b),H.anim(c,{translateX:"0"},b,i)),a("#content-container-mask").hide()},h=function(a){H.hasMenuOpen?H.Menu.hide():H.Menu.show(a)};return{init:e,show:f,hide:g}}(H.$),H.Toast=function(a){var b,c,d,e="toast",f={toast:"<span>{value}</span>",toasttopicon:'<span><i class="icon sui-icon-spinner2"></i><div>{value}</div></span>',toastlefticon:'<span><div class="ub ub-ac"><i class="icon sui-icon-spinner"></i><div class="toast-content">{value}</div></div></span>',success:'<span><i class="icon sui-icon-ok-circle"></i>{value}</span>',error:'<span><i class="icon sui-icon-cancel-circle"></i>{value}</span>',info:'<span><i class="icon sui-icon-info"></i>{value}</span>'},g=function(){a("body").append('<div id="sui-toast"></div>').append('<div id="sui-toast-mask"></div>'),b=a("#sui-toast"),c=a("#sui-toast-mask"),j()},h=function(){H.anim(b,"scaleOut",function(){c.hide(),b.hide(),b.empty()})},i=function(a,g,i){d&&clearTimeout(d);var j=a.split(/\s/);e=j[0],b.attr("class",a).html(f[e].replace("{value}",g)).show(),H.anim(b,"scaleIn"),c.show(),0!=i&&(d=setTimeout(h,i||H.settings.toastDuration))},j=function(){b.on("tap",'[data-target="close"',function(){h()})};return g(),{show:i,hide:h}}(H.$),function(a){H.anim=function(b,c,d,e,f){for(var g,h,i,j=arguments.length,k=2;j>k;k++){var l=arguments[k],m=a.type(l);"number"==m?g=l:"string"==m?h=l:"function"==m?i=l:null}a(b).animate(c,g||H.settings.transitionTime,h||H.settings.transitionTimingFunc,i)},H.showLoading=function(a,b){H.Popup.loading(a,b)},H.hideMark=function(){H.Popup.close(!0)},H.showToast=function(a,b,c){c=c||"toast",H.Toast.show(c,a,b)},H.hideToast=function(){H.Toast.hide()},H.alert=function(a,b){H.Popup.alert(a,b)},H.confirm=function(a,b,c,d){H.Popup.confirm(a,b,c,d)},H.popup=function(a){H.Popup.show(a)},H.closePopup=function(){H.Popup.hide()},H.popover=function(a,b,c,d){H.Popup.popover(a,b,c,d)},H.actionSheet=function(a,b){H.Popup.actionSheet(a,b)},H.toggleMenu=function(a){H.hasMenuOpen?H.Menu.hide():H.Menu.show(a)},H.isFunction=function(a){return"[object Function]"===Object.prototype.toString.call(a)},H.button=function(b,c,d){a(b).on(H.hasTouch?"touchstart":"mousedown",function(){H.touch(c,d)})},H.touch=function(b,c){var d=window.event.currentTarget||window.event.srcElement,e=(window.event.type,"ontouchstart"in window),f=a(d),g=f.data("inline_event_data");g||(g={},g.clickFun=f.attr("onclick"),g.startFun=f.attr("ontouchstart")||f.attr("onmousedown"),g.endFun=f.attr("ontouchend")||f.attr("onmouseup"),g.startClassName=b,g.startCallFun=c,g.endClassName=g.startClassName,g.endCallFun=g.startCallFun,f.data("inline_event_data",g),f.attr("onclick",""),f.attr("ontouchstart",""),f.attr("onmousedown",""),f.attr("ontouchend",""),f.attr("onmouseup",""),e?(f.on("touchstart",function(){g.startClassName&&a(this).addClass(g.startClassName)}),f.on("touchend",function(){g.endClassName&&a(this).removeClass(g.endClassName)}),f.on("touchcancel",function(){g.endClassName&&a(this).removeClass(g.endClassName)}),f.on("tap",function(){H.isFunction(g.startCallFun)&&g.startCallFun.apply(this,[].slice.call(arguments));var a=new Function(g.clickFun);a()})):(f.on("mousedown",function(){if(g.startClassName){var b=this;a(this).addClass(g.startClassName),setTimeout(function(){a(b).removeClass(g.endClassName)},300)}}),f.on("mouseup",function(){g.endClassName&&a(this).removeClass(g.endClassName)}),f.on("click",function(){H.isFunction(g.startCallFun)&&g.startCallFun.apply(this,[].slice.call(arguments));var a=new Function(g.clickFun);a()})),f.addClass(g.startClassName),f.on("webkitTransitionEnd",function(){}))}}(H.$),H.Popup=function(a){var b,c,d,e,f={top:{top:0,left:0,right:0},"top-second":{top:"3.5em",left:0,right:0},center:{top:"50%",left:"6%",right:"6%","border-radius":"5px"},bottom:{bottom:0,left:0,right:0},"bottom-second":{bottom:"4em",left:0,right:0}},g={top:["slideDownIn","slideUpOut"],bottom:["slideUpIn","slideDownOut"],defaultAnim:["bounceIn","bounceOut"]},h={alert:'<div class="popup-title">{title}</div><div class="popup-content">{content}</div><div id="popup-btn-container"><a data-target="closePopup" data-icon="sui-icon-checkmark">{ok}</a></div>',confirm:'<div class="popup-title">{title}</div><div class="popup-content">{content}</div><div id="popup-btn-container"><a class="confirm-cancel">{cancel}</a><a class="confirm-ok">{ok}</a></div>',loading:'<i class="icon sui-icon-spinner"></i><p>{content}</p>',loading1:'<i class="icon sui-loading-white"></i><p>{content}</p>',loading2:'<i class="icon sui-loading-circle"></i><p>{content}</p>'},i=function(){a("body").append('<div id="sui-popup"></div><div id="sui-popup-mask"></div>'),c=a("#sui-popup-mask"),b=a("#sui-popup"),l()},j=function(h){var i={height:void 0,width:void 0,opacity:.3,tplId:null,tplData:null,html:"",pos:"center",clickMask2Close:!0,showCloseBtn:!0,arrowDirection:void 0,isAnimation:!0,timingFunc:"linear",duration:200,onShow:void 0,popupClassName:"sui-popup"};a.extend(i,h),e=i.clickMask2Close,c.css("opacity",i.opacity),b.attr({style:"","class":""}).addClass(i.popupClassName),i.width&&b.width(i.width),i.height&&b.height(i.height);var j=a.type(i.pos);if("object"==j)b.css(i.pos),d=g.defaultAnim;else{if("string"!=j)return void console.error("位置参数错误");if(f[i.pos]){b.css(f[i.pos]);var k=i.pos.indexOf("top")>-1?"top":i.pos.indexOf("bottom")>-1?"bottom":"defaultAnim";d=g[k]}else b.addClass(i.pos),d=g.defaultAnim}c.show();var l;if(i.html?l=i.html:i.tplId&&(l=template(i.tplId,i.tplData)),i.showCloseBtn&&(l+='<div id="tag-close-popup" data-target="closePopup" class="icon sui-icon-cancel-circle"></div>'),i.arrowDirection&&(b.addClass("arrow arrow"+i.arrowDirection),b.css("padding","0.75em"),("top"==i.arrowDirection||"bottom"==i.arrowDirection)&&(d=g[i.arrowDirection])),b.html(l).show(),H.Element.init(b),i.onShow&&i.onShow.call(b),"center"==i.pos){var m=b.height();b.css("margin-top","-"+m/2+"px")}i.isAnimation&&H.anim(b,d[0],i.duration,i.timingFunc),H.hasPopupOpen=!0},k=function(a){c.hide(),d&&!a?H.anim(b,d[1],200,function(){b.hide().empty(),H.hasPopupOpen=!1}):(b.hide().empty(),H.hasPopupOpen=!1)},l=function(){c.on("tap",function(){e&&k()}),b.on("tap",'[data-target="closePopup"]',function(){k()})},m=function(a,b,c){var d=h.alert.replace("{title}",a).replace("{content}",b).replace("{ok}",c||"确定");j({html:d,pos:"center",clickMask2Close:!1,showCloseBtn:!1})},n=function(b,c,d,e){var f=h.confirm.replace("{title}",b).replace("{content}",c).replace("{cancel}","取消").replace("{ok}","确定");j({html:f,pos:"center",clickMask2Close:!1,showCloseBtn:!1}),a("#popup-btn-container .confirm-ok").tap(function(){k(),d.call(this)}),a("#popup-btn-container .confirm-cancel").tap(function(){k(),e.call(this)})},o=function(a,b,c,d){j({html:a,pos:b,arrowDirection:c,showCloseBtn:!1,onShow:d})},p=function(b,c){var d;d="object"==typeof b?h.loading.replace("{content}",b.text||"加载中..."):h.loading.replace("{content}",b||"加载中..."),"object"==typeof b&&b.pos?b.pos.indexOf("loading1")>-1?d=h.loading1.replace("{content}",b.text||"加载中..."):b.pos.indexOf("loading2")>-1&&(d=h.loading2.replace("{content}",b.text||"加载中...")):"object"==typeof c&&(c.pos.indexOf("loading1")>-1?d=h.loading1.replace("{content}",c.text||"加载中..."):c.pos.indexOf("loading2")>-1&&(d=h.loading2.replace("{content}",c.text||"加载中...")));var e={html:d,pos:"loading",opacity:1,isAnimation:!0,clickMask2Close:!1,showCloseBtn:!0};"object"==typeof b?a.extend(e,b):"object"==typeof c&&a.extend(e,c),j(e)},q=function(b,c){var d='<div class="actionSheet"><div class="actionSheet-btns">';a.each(b,function(a,b){d+='<div class="actionsheet-btn">'+b.text+"</div>"}),d+="</div>",d+='<div class="actionsheet-btn action-sheet-cancel">取消</div>',d+="</div>",j({html:d,pos:"bottom",showCloseBtn:!1,popupClassName:c||"sui-popup-actionsheet",onShow:function(){a(this).find(".actionsheet-btn").each(function(c,d){a(d).on("tap",function(){b[c]&&b[c].handler&&b[c].handler.call(d),k()})})}})};return i(),{show:j,hide:k,alert:m,confirm:n,popover:o,loading:p,actionSheet:q}}(H.$),H.Util={getDefaultDatePickerValue:function(a,b,c){var d=[],e={};return"date"==a||"wheeldate"==a?(d=b.split("-"),c?(c.indexOf("y")>-1?e.year=d.shift():e.year=2016,c.indexOf("m")>-1?e.month=d.shift():e.month=1,c.indexOf("d")>-1?e.day=d.shift():e.day=1):(e.year=d[0],e.month=d[1],e.day=d[2])):(d=b.split(":"),e.hour=d[0],e.minute=d[1]),e},getFormatDatePickerValue:function(a,b,c){if(!c)return b.full;c=c.toLowerCase();var d=[];return"date"==a||"wheeldate"==a?(c.indexOf("y")>-1&&d.push(b.year),c.indexOf("m")>-1&&d.push(b.month),c.indexOf("d")>-1&&d.push(b.day),d.join("-")):void 0}},H.Cache=function(a){var b="_SINO_",c=function(a,c){({data:c,cacheTime:new Date});window.localStorage.setItem(b+"key",c)},d=function(a){return window.localStorage.getItem(b+"key")},e=function(){var a=window.localStorage;for(var c in a)0==c.indexOf(b)&&a.removeItem(c)};return{save:c,get:d,clear:e}}(H.$),function(a){var b=function(b,c){var d,e,f,g,h,i,j={months:["01月","02月","03月","04月","05月","06月","07月","08月","09月","10月","11月","12月"],days:["日","一","二","三","四","五","六"],swipeable:!0,date:new Date,onRenderDay:void 0,onSelect:void 0},k=this,l=a(b),m=function(){k.settings=a.extend({},j,c),h=k.settings.date.getFullYear(),i=k.settings.date.getMonth(),g=new Date(h,i,k.settings.date.getDate()),p(),u()},n=function(a){return new Date(a.getFullYear(),a.getMonth(),1).getDay()},o=function(a){return new Date(a.getFullYear(),a.getMonth()+1,0).getDate()},p=function(){var a="";a+='<div class="sui-calendar">',a+=q(h,i),a+=r(),a+='<div class="sui-calendar-body">',a+=s(g),a+="</div></div>",l.html(a);var b=l.find("span");d=b.eq(0),e=b.eq(1),f=l.find(".sui-calendar-body")},q=function(a,b){var c='<div class="sui-calendar-nav">';return c+='<div> <i class="sui-icon-chevron-left year-previous" data-year='+a+"></i><span>"+a+'</span><i class="sui-icon-chevron-right year-next" data-year='+a+"></i></div>",c+='<div ><i class="sui-icon-chevron-left month-previous" data-month='+b+"></i> <span>"+k.settings.months[b]+'</span><i class="sui-icon-chevron-right month-next" data-month='+b+"></i></div>",c+="</div>"},r=function(){for(var a="<table><thead><tr>",b=0;7>b;b++)a+="<th>"+k.settings.days[b]+"</th>";return a+="</tr></thead></table>"},s=function(a){var b,c=n(a),d=o(a),e=Math.ceil((c+d)/7),f="";h=a.getFullYear(),i=a.getMonth(),b=new Date(h,i,1-c),f+="<table><tbody>";for(var g=0;e>g;g++){f+="<tr>";for(var j=0;7>j;j++)f+=t(b,i),b.setDate(b.getDate()+1);f+="</tr>"}return f+="</tbody></table>"},t=function(a,b){var c=a.getMonth()!==b,d=k.format(a),e=k.format(k.settings.date)==d?"active":"",f=a.getDate();return k.settings.onRenderDay&&(f=k.settings.onRenderDay.call(null,f,d)),c?"<td>&nbsp;</td>":'<td data-selected="selected" class="'+e+'" data-date= '+d+">"+f+"</td>"},u=function(){var b,c;l.on("tap",function(d){if(b=a(d.target),b.is("[data-year].year-next")?(g.setFullYear(g.getFullYear()+1),k.refresh(g)):b.is("[data-year].year-previous")?(g.setFullYear(g.getFullYear()-1),k.refresh(g)):b.is("[data-month].month-next")?(g.setMonth(g.getMonth()+1),k.refresh(g)):b.is("[data-month].month-previous")&&(g.setMonth(g.getMonth()-1),k.refresh(g)),c=b.closest("td"),!b.is("td")&&c.length>0&&(b=c),b.is("td")){var e=b.data("date");e&&k.settings.onSelect&&k.settings.onSelect.call(k,e)}}),l.on("swipeLeft",function(){g.setMonth(g.getMonth()+1),k.refresh(g)}),l.on("swipeRight",function(){g.setMonth(g.getMonth()-1),k.refresh(g)})};this.refresh=function(a){var b=new Date(h,i,1),c=new Date(a.getFullYear(),a.getMonth(),1),g=void 0;if(b.getTime()!=c.getTime()){g=c>b?"slideLeftRound":"slideRightRound",d.text(a.getFullYear()),e.text(this.settings.months[a.getMonth()]);var j=s(a);J.anim(f,g,function(){f.html(j)})}},m()};b.prototype.parse=function(a){var b=/^(\d{4})(?:\-|\/)(\d{1,2})(?:\-|\/)(\d{1,2})$/;return b.test(a)?new Date(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10)-1,parseInt(RegExp.$3,10)):null},b.prototype.format=function(a){var b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate();return c=10>c?"0"+c:c,d=10>d?"0"+d:d,b+"-"+c+"-"+d},H.Calendar=b}(H.$),function(a,b){a.extend(a,{toString:function(a){return Object.prototype.toString.call(a)},slice:function(a,b){return Array.prototype.slice.call(a,b||0)},later:function(a,b,c,d,e){return window["set"+(c?"Interval":"Timeout")](function(){a.apply(d,e)},b||0)},parseTpl:function(a,b){var c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj",c);return b?d(b):d}}),a.each("String Boolean RegExp Number Date Object Null Undefined".split(" "),function(d,e){var f;if(!("is"+e in a)){switch(e){case"Null":f=function(a){return null===a};break;case"Undefined":f=function(a){return a===b};break;default:f=function(a){return new RegExp(e+"]","i").test(c(a))}}a["is"+e]=f}});var c=a.toString}(Zepto),function(a){H.Navigator=function(b,c){var d='<% for (var i=0, len=left.length; i<len; i++) { %><a href="<%=left[i].url%>" class="ui-navigator-fix ui-navigator-fixleft"><%=left[i].text%></a><% } %><ul class="ui-navigator-list"><% for (var i=0, len=mid.length; i<len; i++) { %><li><a href="<%=mid[i].url%>"><%=mid[i].text%></a></li><% } %></ul><% for (var i=0, len=right.length; i<len; i++) { %><a href="<%=right[i].url%>" class="ui-navigator-fix ui-navigator-fixright"><%=right[i].text%></a><% } %>',e={container:"",content:[],defTab:0,beforetabselect:null,tabselect:null,lastIndex:-1,type:"setup",scrollstart:function(a){},scrollmove:function(a){},scrollend:function(a){}};"object"==typeof c&&(e=a.extend(e,c));var f=function(){var c,f=a(b).addClass("ui-navigator"),h=e.content,i=a(e.container||document.body).get(0),l={left:[],mid:[],right:[]};a.each(h,function(){l[this.pos?this.pos:"mid"].push(this)}),c=a.parseTpl(d,l),"render"===e.type&&(f.append(c),(!f.parent().length||i!==document.body)&&f.appendTo(i));var m=f.find("ul"),n=f.find(".ui-navigator-wrapper"),o=m.find("li"),p=[0],q=e.defTab,r=f.find("a");e._$tabList=r,f.children("a").addClass("ui-navigator-fix"),m.addClass("ui-navigator-list"),f.find("a").each(function(b){this.index=b,0===q?a(this).hasClass("cur")&&(e.defTab=b):a(this).removeClass("cur")}),r.on("click",j),!n.length&&m.wrap('<div class="ui-navigator-wrapper"></div>'),m.find("li").each(function(a){p[a]=a?p[a-1]+this.offsetWidth:p[a]+this.offsetLeft-m[0].offsetLeft+this.offsetWidth}),console.log(p),a.extend(e,{_$navWrapper:f.find(".ui-navigator-wrapper"),_$navScroller:m.width(p[o.length-1]),_$navList:o,_scrollerNum:o.length,_scrollerSumWidth:p,_$fixElemLeft:f.find(".ui-navigator-fixleft"),_$fixElemRight:f.find(".ui-navigator-fixright")}),g(),k(e.defTab,!0)},g=function(){e.isScrollToNext=void 0===e.isScrollToNext?!0:e.isScrollToNext,e.isShowShadow=void 0===e.isShowShadow?!0:e.isShowShadow,h()},h=function(){var c=e;a(b);c.iScroll=new iScroll(c._$navWrapper.get(0),c.iScrollOpts=a.extend({hScroll:!0,vScroll:!1,hScrollbar:!1,vScrollbar:!1},c.iScrollOpts,{onScrollStart:function(a){c.scrollstart(a)},onScrollMove:function(a){c.scrollmove(a)},onScrollEnd:function(a){c.isShowShadow&&i(),c.scrollend(a)}}))},i=function(){var a=e,b=a._$navWrapper,c={left:"ui-navigator-shadowl",right:"ui-navigator-shadowr",all:"ui-navigator-shadowall"},d=a.iScroll,f=d.x;0>f?(b.removeClass(c.left+" "+c.right).addClass(c.all),f<=d.maxScrollX&&b.removeClass(c.all+" "+c.right).addClass(c.left)):(b.removeClass(c.all+" "+c.left),d.hScroll?b.addClass(c.right):b.removeClass(c.all+" "+c.left+" "+c.right))},j=function(b){var c=b.target;a(c).closest("a").get(0)&&k(c.index,!1,b)},k=function(c,d,f){var g=(a(b),e._$tabList),h=e.lastIndex,j=e;if(h!=c){if(h>=0&&g.eq(h).removeClass("cur"),g.eq(c).addClass("cur"),j.lastIndex=c,!j._$tabList.eq(c).hasClass("ui-navigator-fix")){var k=j._$fixElemLeft,c=c-(k.length?k.length:0),n=m(c);d&&j.isShowShadow&&i(),j.isScrollToNext&&l(c,n)}j.tabselect&&j.tabselect(g.get(c),c)}},l=function(a,b){var c=e,d=c._scrollerSumWidth,f=c.iScroll;f.scrollTo("last"==b?f.wrapperW-(d[a+1]||d[d.length-1]):"first"==b?-d[a-2]||0:f.x,0,400)},m=function(a){var b=e,c=b.iScroll,d=Math.abs(c.x)||0,f=b._scrollerSumWidth,g=b._$navList,h=f[a]-d,i=f[a-1||0]-d,j=(f[a+1]||f[f.length-1])-d,k=c.wrapperW;return h>=k||j>k?"last":h<=g[a].offsetWidth||i<g[a-1].offsetWidth?"first":"middle"};f()}}(H.$),function(a){function b(b,c,d){var e,f,g,h,i,j,k,l,m={selector:void 0,type:"pullDown",minPullHeight:10,pullText:"下拉刷新...",releaseText:"松手立即刷新...",refreshText:"刷新中...",refreshTip:!1,onPullIcon:"sui-icon-arrow-down",onReleaseIcon:"icon-reverse",onRefreshIcon:"sui-icon-spinner2",refreshClass:"spinner",callback:void 0,refreshJastNow:"刚刚刷新过..."};"object"==typeof b?a.extend(m,b):(m.selector=b,m.type=c,m.callback=d,"pullUp"==c&&a.extend(m,{pullText:"上拉加载更多...",releaseText:"松开开立即加载...",refreshText:"加载中...",onPullIcon:"arrow-up-3"})),k="pullDown"==m.type?!0:!1;var n=function(b){f=a(b.selector).children()[0];var c='<div class="refresh-container"><span class="refresh-icon '+b.onPullIcon+'"></span><span class="refresh-label">'+b.pullText+"</span>"+(b.refreshTip?'<div class="refresh-tip">'+b.refreshTip+"</div>":"")+"</div>";g=k?a(c).prependTo(f):a(c).appendTo(f),j=g.height(),h=g.find(".refresh-icon"),i=g.find(".refresh-label"),l=g.find(".refresh-tip")},o=function(a){return H.Scroll(a.selector,{topOffset:k?j:0,bounce:!0,onScrollMove:function(){this.y>a.minPullHeight&&k&&!h.hasClass(a.onReleaseIcon)?(h.addClass(a.onReleaseIcon),i.html(a.releaseText),this.minScrollY=0):this.y<a.minPullHeight&&k&&h.hasClass(a.onReleaseIcon)?(h.removeClass(a.onReleaseIcon),i.html(a.pullText),this.minScrollY=-j):this.y<this.maxScrollY-a.minPullHeight&&!k&&!h.hasClass(a.onReleaseIcon)?(h.addClass(a.onReleaseIcon),i.html(a.releaseText),this.maxScrollY=this.maxScrollY):this.y>this.maxScrollY-a.minPullHeight&&!k&&h.hasClass(a.onReleaseIcon)&&(h.removeClass(a.onReleaseIcon),i.html(a.pullText),this.maxScrollY=j)},onScrollEnd:function(){if(h.hasClass(a.onReleaseIcon)){h.removeClass(a.onReleaseIcon).removeClass(a.onPullIcon).addClass(a.onRefreshIcon).addClass(a.refreshClass),i.html(a.refreshText);var b=this;setTimeout(function(){a.callback.call(b)},1)}},onRefresh:function(){h.removeClass(a.onRefreshIcon).removeClass(a.refreshClass).addClass(a.onPullIcon),i.html(a.pullText)}})};return n(m),e=o(m)}var c={},d=1;H.Refresh=function(e,f,g){var h,i;if(h=a(e.selector?e.selector:e),i=h.data("_hrefresh_"),i&&c[i])return c[i];i="_hrefresh_"+d++,h.data("_hrefresh_",i);var j=new b(e,f,g);return c[i]={scroller:j.scroller,destroy:function(){delete c[i],j.scroller.destory(),a(".refresh-container",e).remove()}}}}(H.$),function(a){var b={},c=1;H.Scroll=function(d,e){var f,g,h=a(d),i={hScroll:!1,hScrollbar:!1,vScrollbar:!1,scrollbars:!0,mouseWheel:!0,zoom:!0,bounce:!0,lockDirection:!0,useTransform:!0,useTransition:!1,checkDOMChanges:!1,resetX:0,resetY:0,duration:200,isRealtive:!1,onBeforeScrollStart:function(a){for(var b=a.target;1!=b.nodeType;)b=b.parentNode;"SELECT"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName&&a.preventDefault()}};return g=h.data("_hscroll_"),g&&b[g]?(f=b[g],a.extend(f.scroller.options,e),f.scroller.scrollTo(i.resetX,i.resetY,i.duration,i.isRealtive),f.scroller.refresh(),f):(g="_hscroll_"+c++,h.data("_hscroll_",g),a.extend(i,e),scroller=new iScroll(h[0],i),b[g]={scroller:scroller,destory:function(){scroller.destory(),delete b[g]}})}}(H.$),function(a){function b(b,c){var d,e,f,g,h,i,j,k,l,m,n=function(){},o=function(){return!0},p=!1,q=0,r=200,s=0,t=this;a.isPlainObject(b)?(d=a(b.selector),c=b.showDots,o=b.onBeforeSlide||o,n=b.onAfterSlide||n,l=b.autoPlay,s=b.interval||3e3,f=b.dotsTop||0):d=a(b);var u=function(){g=d.find(".sui-slider-wheel"),h=g.children(".slider-item");var b=a('<div class="sui-slider-group"></div>').append(h);g.append(b).append(b.clone()),j=d.offset().width;var e=g.find(".slider-item");i=e.length,q=i/2,g.css("width",i*j);for(var f=0,k=e.length;k>f;f++)e[f].style.cssText+="width:"+j+"px;position:absolute;-webkit-transform:translate3d("+f*j+"px,0,0);z-index:"+(100-f);void 0==c&&(c=!0),c&&w(),x(q,0),l&&v()},v=function(){setTimeout(function(){q==i?(q=i/2,x(q)):t.next(),v()},s)},w=function(){if(e=d.find(".sui-slider-dots"),e.length>0)e.show();else{for(var a='<div class="sui-slider-dots">',b=0;i/2>b;b++)a+='<b index="'+b+'"',0==b&&(a+=' class="active"'),a+="></b>";a+="</div>",d.append(a),e=d.find(".sui-slider-dots");var c=g.find(".slider-item img").height();f=0==f?c-20:f,e.css({top:f+"px"})}},x=function(a,b){b=b||r,a>-1&&i>a?y(a,b):a>=i&&(g.css({"-webkit-transition-duration":"0ms","transition-duration":"0ms","-webkit-transform":"translate3d(-"+(i/2-1)*j+"px,0,0)",transform:"translate3d(-"+(i/2-1)*j+"px,0,0)"}),setTimeout(function(){y(i/2,b)},20))},y=function(a,b){if(q=a,g.css({"-webkit-transition-duration":b+"ms","transition-duration":b+"ms","-webkit-transform":"translate3D(-"+q*j+"px,0,0)",transform:"translate3D(-"+q*j+"px,0,0)"}),c){var e=d.find(".sui-slider-dots");e.children().removeClass("active").eq(q%(i/2)).addClass("active")}},z=function(){g.on("touchstart",A,!1),g.on("touchmove",B,!1),g.on("touchend",C,!1)},A=function(a){var b=a.touches[0];m={pageX:b.pageX,pageY:b.pageY,time:Number(new Date)},isScrolling=void 0,k=0,g[0].style.webkitTransitionDuration=0,p=!0},B=function(a){if(p){var b=a.touches[0];if(k=b.pageX-m.pageX,"undefined"==typeof isScrolling&&(isScrolling=Math.abs(k)<Math.abs(b.pageY-m.pageY)),!isScrolling){a.preventDefault();var c=!q&&k>0||q==i-1&&0>k;if(c)return;var d=k-q*j;g[0].style.webkitTransform="translate3D("+d+"px,0,0)"}}},C=function(a){var b=Number(new Date)-m.time<250&&Math.abs(k)>20||Math.abs(k)>j/3,c=!q&&k>0||q==i-1&&0>k;isScrolling||(o(q,k)?x(q+(b&&!c?0>k?1:-1:0),r):x(q)),p=!1};u(),z(),this.refresh=function(){g.attr("style",""),u()},this.prev=function(){x(q-1,r)},this.next=function(){x(q+1,r)},this.index=function(a){x(a)}}H.Slider=b}(H.$),function(a){H.Tab=function(b,c){var d={index:0,springBackDis:15,animationTime:400,draggable:!1,onBeforeToggle:function(){return!0},onAfterToggle:function(){}};c&&"object"==typeof c&&a.extend(d,c);var e=function(){var c=(d.index,a(b)),e=d,i=a.proxy(f,this),j=c.find("[data-role=sinoTab]").attr("data-tab"),k=a("#"+j).closest(".sui-tab");k.children();0!=k.length&&(k.wrapInner("<div class='sui-tab-wheel'>"),d.tabs=k,g(),e.draggable&&a(e.tabs).on("touchstart touchmove touchend touchcancel webkitTransitionEnd",i),c.find("[data-role=sinoTab]").unbind("click").bind("click",function(a){
h.call(this,a.target),a.stopPropagation()}))},f=function(a){switch(a.type){case"touchmove":j(a);break;case"touchstart":i(a);break;case"touchcancel":case"touchend":k();break;case"webkitTransitionEnd":n()}},g=function(){var b,c=d,e=c.tabs,f=e.width(),g=e.height(),h=a("tab",e).toArray(),i=h.length,j=a(".sui-tab-wheel",e).width(f*i)[0];for(b=0;i>b;b++)h[b].style.cssText+="width:"+f+"px;position:absolute;-webkit-transform:translate3d("+b*f+"px,0,0);z-index:"+(80-b);a.extend(d,{root:e[0],wheel:j,items:h,length:i,width:f,height:g,wheelX:-f*(i-1)})},h=function(c){var e=d,f=a(b).find("[data-role=sinoTab]").attr("data-tab"),g=a(b).find("[data-role=sinoTab]").index(a(c)),h=e.onBeforeToggle(f);h&&m(g,0)},i=function(b){a.extend(d,{pageX:b.touches[0].pageX,pageY:b.touches[0].pageY,S:!1,T:!1,X:0,isExecBeforeFunc:!1,beforeFuncResult:!1}),d.wheel.style.webkitTransitionDuration="0ms"},j=function(a){var b=d,c=b.X=a.touches[0].pageX-b.pageX;if(!b.T){var e=(b.index,b.length,Math.abs(c)<Math.abs(a.touches[0].pageY-b.pageY));b.T=!0,b.S=e}if(!b.S){b.stopPropagation&&a.stopPropagation(),a.preventDefault();var f=c-b.index*b.width;0>f&&f>b.wheelX&&(b.isExecBeforeFunc||(b.beforeFuncResult=b.onBeforeToggle(),b.isExecBeforeFunc=!0),b.beforeFuncResult&&(b.wheel.style.webkitTransform="translate3d("+f+"px,0,0)"))}},k=function(){var a=d;if(!a.S){var b=a.springBackDis,c=a.X<=-b?Math.ceil(-a.X/a.width):a.X>b?-Math.ceil(a.X/a.width):0;a._stepLength=Math.abs(c),a.beforeFuncResult&&l(a.index+c)}},l=function(a){var b=d,c=b.length,e=c;a>-1&&e>a?m(a):a>=e?(m(e-1),b._direction=-1):(m(0),b._direction=1)},m=function(a,b){var c=d;c.index=a,o(a,function(){void 0===b&&(b=c.animationTime),c.wheel.style.cssText+="-webkit-transition:"+b+"ms;-webkit-transform:translate3d(-"+a*c.width+"px,0,0);"})},n=function(){},o=function(c,e){var f=d,g=a(b),h=g.find("[data-role='sinoTab']").eq(c),i=h.attr("data-tab");h.siblings().removeClass("sui-active"),h.addClass("sui-active"),e(),f.onAfterToggle(i)};e()}}(H.$),function(a){a.form={},a.list={},$.bt_jqprefix="bt",$.bt_staticprefix="ui",$.bt_options={val:function(a){return $(this).attr("value")||a}},$.bt=function(a,b){$.fn[$.bt_jqprefix+a]=function(a){for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);var e=b[a];return e.apply(this,c)}}}(window.H),function(a){function b(b,c){function d(a,b){for(var c=0,d=0;d<b.length;d++){if(!(a>=b[d]))return c;c=d}return c}function e(a,b,c){return a>0?a=0:c-b>a&&(a=c-b),a}function f(a,b){var c=a-b;return parseInt(c/20)}function g(a,b,c){a.css({top:-c[b]})}var h={selector:".sui-listGroup",leftTopTitle:".sui-listGroup-title",lettersIndexClassName:"sui-listGroup-lettersIndex",leftGroups:".sui-listGroup-list",leftGroupItem:".sui-listGroups-item",leftGroupItemTitle:".sui-listGroups-item-title"};"object"==typeof b?a.extend(h,b):"object"==typeof c&&a.extend(h,c);var i,j,k=a(h.selector),l=k.children(h.leftTopTitle),m=k.children(h.leftGroups).height(),n=k.height(),o=0,p=k.find(h.leftGroupItem),q=[];if(p.each(function(){q.push(a(this).position().top)}),k.find(h.leftGroups).on("touchstart",function(b){i=a(this),j=b.pageY},!1),k.on("touchmove",function(a){var b=a.pageY-j;j=a.pageY;var c=parseInt(i.css("top")),f=c+b;f=e(f,m,n),i.css("top",f);var g=d(-f,q),k=i.children(h.leftGroupItem).eq(g).children(h.leftGroupItemTitle),p=i.children(h.leftGroupItem).eq(g+1).children(h.leftGroupItemTitle);l.html(k.html());var r=f-o;o=f;var s=parseInt(l.css("top"));if(0>r){var t=p.position().top+f;-29>=s&&l.css("top",0),t>0&&30>t?l.css("top",s+r):l.css("top",0)}else if(r>0){var t=p.position().top+f;s>=0&&(l.css("top",-30),s=-30),t>0&&30>t?l.css("top",s+r):l.css("top",0)}},!1),k.on("touchend",function(a){i=!1},!1),"show"==k.data("index")){for(var r=a("<div class='"+h.lettersIndexClassName+"'></div>"),s=[],t=k.children(h.leftGroups).find(h.leftGroupItemTitle),u=0;u<t.length;u++)s.push("<span>"+t.eq(u).html()+"</span>");r.append(s.join("")),k.append(r);var v;r.on("touchstart",function(a){v=!0;var b=f(a.pageY,w),c=r.children().eq(b).html();l.html(c),g(k.children(h.leftGroups),b,q),r.children().removeClass("cur").eq(b).addClass("cur")},!1);var w=r.offset().top;r.on("touchmove",function(a){if(v){var b=f(a.pageY,w),c=r.children().eq(b).html();l.html(c),g(k.children(h.leftGroups),b,q),r.children().removeClass("cur").eq(b).addClass("cur")}},!1),r.on("touchend",function(){v=!1},!1)}}H.listGroup=b}(H.$),function(a){var b=function(b,c){function d(a){a.preventDefault()}var e,f,g,h,i,j=a(".sui-search"),k={input:".sui-searchbar-input",clearBtn:".sui-searchbar-clear",cancelBtn:".sui-searchbar-cancel",overlay:"#sui-search-mask",searchResult:"#sui-searchbar-result",showSearchResult:!0,showOverlay:!0,callback:void 0,cancelCallback:void 0,active:!1,showClasses:!1,classContainer:"#search-classes",animate:!1};"object"==typeof b?(a.extend(k,b),j=a(b.selector)):"object"==typeof c&&(j=a(b),a.extend(k,c)),i=j.offset().top+j.height(),k.active=!1,a("body").append('<div id="sui-search-mask"></div>'),e=k.input?j.find(k.input).find('input[type="search"]'):j.find('input[type="search"]'),g=k.clearBtn?a(k.clearBtn):j.find(".sui-searchbar-clear"),f=k.cancelBtn?a(k.cancelBtn):j.find(".sui-searchbar-cancel"),h=a("#sui-search-mask"),$searchResult=k.searchResult?a(k.searchResult).length<1?(h.before('<div id="sui-searchbar-result"></div>'),a("#sui-searchbar-result")):a(k.searchResult):a("body").find("#sui-searchbar-result");var l="true"==j.data("rtl")?"margin-left":"margin-right";f.length>0&&(f.show(),f.css({cancleMarginProp:-f.width()+"px"}));var m=function(){function b(){if(!j.hasClass("sui-searchbar-active")&&k.showOverlay&&h.show().css("opacity","1"),j.addClass("sui-searchbar-active"),k.showClasses){j.find("#editEmails").hide();var b=j.prev(),c=a(k.classContainer),d=b.height();k.animate&&(b.css({transition:"all .5s"}),j.css({transition:"all .5s"})),b.css({transform:"translate3d(0,-"+d+"px,0)","-webkit-transform":"translate3d(0,-"+d+"px,0)"}),j.css({transform:"translate3d(0,-"+d+"px,0)","-webkit-transform":"translate3d(0,-"+d+"px,0)"}),c.removeClass("sui-hide").height(d).css({"padding-bottom":"10px"})}k.showOverlay&&h.show().css("opacity","1"),f.length>0&&f.css({"margin-right":"0px"}),k.active=!0}H.isIOS?setTimeout(function(){b()},400):b()},n=function(){function b(){e.blur().val(""),k.active=!1,$searchResult.hide().css({opacity:"0"}),k.cancelCallback&&k.cancelCallback.call(this,$searchResult)}if(j.removeClass("sui-searchbar-active sui-searchbar-not-empty"),f.length>0&&f.show().css(l,-f[0].offsetWidth+"px"),h.hide(),k.showClasses){j.find("#editEmails").show();var c=j.prev(),d=a(k.classContainer);c.height();c.css({transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"}),j.css({transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"}),d.addClass("sui-hide")}k.showOverlay&&h.hide().css("opacity","0"),H.isIOS?setTimeout(function(){b()},400):b()},o=function(){e.val("").trigger("change").focus()},p=function(){setTimeout(function(){var a=e.val().trim();""==a?(j.removeClass("sui-searchbar-not-empty"),$searchResult.removeClass("sui-searchbar-result-active").hide()):(j.addClass("sui-searchbar-not-empty"),k.callback&&k.callback.call(this,a,j,h,$searchResult),k.showSearchResult&&$searchResult.addClass("sui-searchbar-result-active").show().css({top:i,opacity:"1"}))},0)},q=function(){j.on("submit",d),f.on("click",n),h.on("click",n),e.on("focus",m),e.on("input",p),e.on("change",p),g.on("click",o)},r=function(){q()};r()};H.SearchBar=b}(H.$),function(a){H.SwipeListview=function(b,c,d){function e(a,b){this.container=a,this.direction=b,this.containerSize=this.container.offsetWidth,this.currentIndex=0,this.hammer=new Hammer.Manager(this.container),this.hammer.add(new Hammer.Pan({direction:this.direction,threshold:10})),this.hammer.add(new Hammer.Tap),this.hammer.on("panstart panmove panend pancancel",Hammer.bindFn(this.onPan,this)),this.hammer.on("tap",Hammer.bindFn(this.onTap,this))}var f="",g="",h=0,i=2;"object"==typeof b?(f=b.selector,g=b.swipeBtns,i=b.num||2):(f=b,g=c,i=d||2),h=a(f).find(g).offset().width,e.prototype={onTap:function(b){var c=a(b.target).closest(".sui-list-item")||a(b.target).find(".sui-list-item");c.css({transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"})},onPan:function(b){var c=b.deltaX,d=(100/this.containerSize*c,a(b.target).closest(".sui-list-item")||a(b.target).find(".sui-list-item"));a(this.container).siblings(".swipe-list").find(".sui-list-item").css({transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"}),c>-h&&0>c&&(console.log(c),d.css({transform:"translate3d(-"+c+"px,0,0)","-webkit-transform":"translate3d(-"+c+"px,0,0)"})),("panend"==b.type||"pancancel"==b.type)&&(b.deltaX<-Math.floor(h/i)?d.css({transform:"translate3d(-"+h+"px,0,0)","-webkit-transform":"translate3d(-"+h+"px,0,0)"}):b.deltaX>0&&d.css({transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"}))}};var j=function(){Hammer.each(document.querySelectorAll(f),function(b){new e(b,Hammer.DIRECTION_HORIZONTAL);a(f).find(g).css({opacity:"1"})})};j()}}(H.$);var $support={transform3d:"WebKitCSSMatrix"in window,touch:"ontouchstart"in window},$E={start:$support.touch?"touchstart":"mousedown",move:$support.touch?"touchmove":"mousemove",end:$support.touch?"touchend":"mouseup",cancel:$support.touch?"touchcancel":"",transEnd:"webkitTransitionEnd"},sinoClick=function(a,b,c){var d=this;return d._clickFun=b||null,d._click=!1,d.css=c,"object"==typeof a?d.element=a:"string"==typeof a&&(d.element=document.getElementById(a)),d.attribute=d.element.getAttribute("onclick"),d.element.removeAttribute("onclick"),d.element.addEventListener($E.start,d,!1),d.element.addEventListener($E.move,d,!1),d.element.addEventListener($E.end,d,!1),""!=$E.cancel&&(d.element.addEventListener($E.cancel,d,!1),document.addEventListener($E.cancel,d,!1)),document.addEventListener($E.end,d,!1),d};sinoClick.prototype={handleEvent:function(a){var b=this;switch(a.type){case $E.start:b._touchStart(a);break;case $E.move:b._touchMove(a);break;case $E.end:case $E.cancel:b._touchEnd(a)}},_touchStart:function(a){var b=this;b.start=!0,b._click=!0,b.startPageX=getPage(a,"pageX"),b.startPageY=getPage(a,"pageY"),b.startTime=a.timeStamp,b.css&&!b.touchTime&&(b.touchTime=setTimeout(function(){b._click&&b.element.className.indexOf(b.css)<0&&(b.element.className+=" "+b.css)},50))},_touchMove:function(a){var b=this;if(b.start){var c=getPage(a,"pageX"),d=getPage(a,"pageY"),e=c-b.startPageX,f=d-b.startPageY;(Math.abs(e)>5||Math.abs(f)>5)&&b._click&&(clearTimeout(b.touchTime),b.touchTime=null,b._click=!1,b.css&&(b.element.className=b.element.className.replace(" "+b.css,"")))}},_touchEnd:function(event){var self=this;if(1==self.start&&(self.touchTime&&(clearTimeout(self.touchTime),self.touchTime=null),self.start=!1,self.css&&(self.element.className=self.element.className.replace(" "+self.css,"")),self._click)){if(self._click=!1,event.timeStamp-self.startTime>1e3)return;if(event.type==$E.cancel)return;self._clickFun&&self._clickFun(self.element),self.attribute&&eval(self.attribute)}},destroy:function(){var a=this;a.element.removeEventListener($E.start,a),a.element.removeEventListener($E.move,a),a.element.removeEventListener($E.end,a),a.element.removeEventListener($E.cancel,a),document.removeEventListener($E.end,a),document.removeEventListener($E.cancel,a)}};var isIOS="Win32"!=window.navigator.platform,isAndroid=window.navigator.userAgent.indexOf("Android")>=0?!0:!1,isWindow="Win32"==window.navigator.platform,getUID=function(a){a=a||10,a=parseInt(a,10),a=isNaN(a)?10:a;for(var b="0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ",c=b.length-1,d="";a--;)d+=b[Math.round(Math.random()*c)];return d};
/* SinoUI 最后修改于： 2015-10-27 */